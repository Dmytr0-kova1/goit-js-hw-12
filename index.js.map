{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"46814382-75c1b20cf6e14c25ef5bdd9a6\";\n\nexport default function fetchData(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n        if (!response.ok) { \n            throw new Error(response.statusText)\n            }\n            \n            return response.json();\n    })\n}\n\n\n\n","export default function createMarkup(images) {   \n    return images.map( ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<div class=\"gallery\">\n        <a class=\"photo-link\" href=\"${largeImageURL}\">\n                <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags} width=\"360\">\n        </a>\n        <ul class=\"list-item\">\n           <li class=\"item-text\">\n                <h2 class=\"item-title\">Likes</h2>\n                <p class =\"item-text\">${likes}</p>\n           </li>\n          <li class=\"item-text\">\n                <h2 class=\"item-title\">Views</h2>\n                <p class =\"item-text\">${views}</p>\n          </li>\n         <li class=\"item-text\">\n                <h2 class=\"item-title\">Comments</h2>\n                <p class =\"item-text\">${comments}</p>\n         </li>\n         <li class=\"item-text\">\n                <h2 class=\"item-title\">Downloads</h2>\n                <p class =\"item-text\">${downloads}</p>\n         </li>\n     </ul>\n     </div>\n        `}).join(\"\");\n}","import fetchData from \"./js/pixabay-api\";\nimport createMarkup from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form-search\");\nconst gallery = document.querySelector(\".js-gallery\");\nconst loader = document.querySelector(\".loader\");\nlet lightbox;\n\nform.addEventListener(\"submit\", querySearch);\n\nfunction querySearch(event) {\n    event.preventDefault();\n    loader.style.display = \"block\";\n\n    const inputVal = event.target.elements.query.value.trim();\n\n    if (inputVal === \"\") {\n          iziToast.show({\n            title: \"Error\",\n            message:  \"Sorry, you need to enter data for the request. Please try again!\",\n            position: \"topRight\",\n            color: \"red\"\n          })\n        loader.style.display = \"none\";\n\n    } else {\n\n    fetchData(inputVal)\n        .then((response) => {\n            if (response.hits.length === 0) {\n                iziToast.show({\n            title: \"Error\",\n            message:  \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n            color: \"red\"\n                })\n            }\n            \n            const markup = createMarkup(response.hits);\n            gallery.innerHTML = markup;\n            loader.style.display = \"none\";\n            \n            if (lightbox) {\n                lightbox.refresh();\n            } else {\n                lightbox = new SimpleLightbox(\".gallery a\"); \n            }\n            \n            console.log(response.hits.length);\n        })\n        .catch(error => {\n            console.log(error);\n            \n            iziToast.show({\n                title: \"Error\",\n                message:  \" Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n                color: \"red\"\n            })\n        })\n    }\n}"],"names":["BASE_URL","API_KEY","fetchData","query","params","response","createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","lightbox","querySearch","event","inputVal","iziToast","markup","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAED,SAASC,EAAUC,EAAO,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAC/B,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGnC,OAAOA,EAAS,MAC5B,CAAK,CACL,CCpBe,SAASC,EAAaC,EAAQ,CACzC,OAAOA,EAAO,IAAK,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC/E;AAAA,sCACuBL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAIvC,EAAE,KAAK,EAAE,CACnB,CCnBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJH,EAAK,iBAAiB,SAAUI,CAAW,EAE3C,SAASA,EAAYC,EAAO,CACxBA,EAAM,eAAc,EACpBH,EAAO,MAAM,QAAU,QAEvB,MAAMI,EAAWD,EAAM,OAAO,SAAS,MAAM,MAAM,OAE/CC,IAAa,IACXC,EAAS,KAAK,CACZ,MAAO,QACP,QAAU,mEACV,SAAU,WACV,MAAO,KACnB,CAAW,EACHL,EAAO,MAAM,QAAU,QAI3Bf,EAAUmB,CAAQ,EACb,KAAMhB,GAAa,CACZA,EAAS,KAAK,SAAW,GACzBiB,EAAS,KAAK,CAClB,MAAO,QACP,QAAU,2EACV,SAAU,WACV,MAAO,KACnB,CAAiB,EAGL,MAAMC,EAASjB,EAAaD,EAAS,IAAI,EACzCW,EAAQ,UAAYO,EACpBN,EAAO,MAAM,QAAU,OAEnBC,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAY,EAG9C,QAAQ,IAAInB,EAAS,KAAK,MAAM,CAC5C,CAAS,EACA,MAAMoB,GAAS,CACZ,QAAQ,IAAIA,CAAK,EAEjBH,EAAS,KAAK,CACV,MAAO,QACP,QAAU,4EACV,SAAU,WACV,MAAO,KACvB,CAAa,CACb,CAAS,CAET"}